//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : P-TMM-08004
//  @ File Name : UsuarioBO.java
//  @ Date : 09/09/2008
//  @ Author : hsegura
//
//

package com.tmmas.scl.framework.Sistema.bo;

import org.apache.commons.configuration.CompositeConfiguration;
import org.apache.log4j.Logger;

import com.tmmas.cl.framework20.util.UtilProperty;
import com.tmmas.scl.framework.CustomerDomain.exception.RateUsageRecordsException;
import com.tmmas.scl.framework.Sistema.bo.Interface.UsuarioBOIT;
import com.tmmas.scl.framework.Sistema.dao.UsuarioDAO;
import com.tmmas.scl.framework.Sistema.dao.Interface.UsuarioDAOIT;
import com.tmmas.scl.framework.Sistema.dto.UsuarioQueryDTO;

public class UsuarioBO implements UsuarioBOIT {
	private static Logger logger = Logger.getLogger(UsuarioBO.class);

	private CompositeConfiguration config;

	public UsuarioBO() {
		super();
		config = UtilProperty
				.getConfiguration("ServicioFacturacionWS.properties",
						"com/tmmas/scl/framework/properties/archivorecursos.properties");
	}

	/**
	 * validar que el usuario tenga rol y permiso de ejecusion y que tenga
	 * codigo de vendedor
	 */
	public boolean validarUsuario(UsuarioQueryDTO usuarioQueryDTO)
			throws RateUsageRecordsException {

		UsuarioDAOIT usuarioDAO = new UsuarioDAO();
		if (usuarioDAO.recuperarRol(usuarioQueryDTO)) {
			return true;
		}
		return false;
	}

	public String obtenerZonaImpositiva(String codOficina)
			throws RateUsageRecordsException {
		UsuarioDAOIT usuarioDAO = new UsuarioDAO();
		return usuarioDAO.obtenerZonaImpositiva(codOficina);
	}

}
